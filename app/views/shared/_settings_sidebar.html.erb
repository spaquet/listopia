<!-- app/views/shared/_settings_sidebar.html.erb -->
<nav class="space-y-1">
  <!-- Account Settings -->
  <div class="space-y-1 mb-6">
    <p class="px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Account</p>
    <%= link_to "Settings", settings_user_path,
        class: "block px-4 py-2 text-sm font-medium rounded-lg transition-colors #{current_page?(settings_user_path) ? 'bg-blue-100 text-blue-900' : 'text-gray-700 hover:bg-gray-100'}" %>
    <%= link_to "Notification Preferences", notification_preferences_path,
        class: "block px-4 py-2 text-sm font-medium rounded-lg transition-colors #{current_page?(notification_preferences_path) ? 'bg-blue-100 text-blue-900' : 'text-gray-700 hover:bg-gray-100'}" %>
  </div>

  <!-- Teams in Current Organization -->
  <div class="space-y-1">
    <p class="px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">
      <% if current_organization %>
        Teams in <%= current_organization.name %>
      <% else %>
        Teams
      <% end %>
    </p>
    <% if current_organization %>
      <div class="space-y-1">
        <% if current_organization.teams.any? %>
          <% current_organization.teams.order(name: :asc).each do |team| %>
            <%= link_to team.name, organization_team_path(current_organization, team),
                class: "block px-4 py-2 text-sm rounded-lg transition-colors #{request.path.include?(organization_team_path(current_organization, team)) ? 'bg-blue-100 text-blue-900 font-medium' : 'text-gray-700 hover:bg-gray-100'}" %>
          <% end %>
        <% end %>
        <%= link_to "+ All Teams", organization_teams_path(current_organization),
            class: "block px-4 py-2 text-sm font-medium rounded-lg transition-colors #{request.path == organization_teams_path(current_organization) ? 'bg-blue-100 text-blue-900' : 'text-blue-600 hover:bg-blue-50'}" %>
      </div>
    <% else %>
      <p class="px-4 py-2 text-sm text-gray-500">No organization selected</p>
    <% end %>
  </div>
</nav>
