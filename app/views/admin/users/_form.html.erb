<!-- app/views/admin/users/_form.html.erb -->
<%= form_with model: [:admin, @user], local: true, class: "space-y-6" do |f| %>
  <div>
    <%= f.label :name, class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= f.text_field :name, 
                     class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                     placeholder: "Full name" %>
    <% if @user.errors[:name].any? %>
      <p class="mt-1 text-sm text-red-600"><%= @user.errors[:name].first %></p>
    <% end %>
  </div>
  <div>
    <%= f.label :email, class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= f.email_field :email, 
                      class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                      placeholder: "email@example.com" %>
    <% if @user.errors[:email].any? %>
      <p class="mt-1 text-sm text-red-600"><%= @user.errors[:email].first %></p>
    <% end %>
  </div>
  <% if @user.new_record? %>
    <div>
      <%= f.label :password, class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= f.password_field :password, 
                           class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                           placeholder: "••••••••" %>
      <% if @user.errors[:password].any? %>
        <p class="mt-1 text-sm text-red-600"><%= @user.errors[:password].first %></p>
      <% end %>
    </div>
    <div>
      <%= f.label :password_confirmation, class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= f.password_field :password_confirmation, 
                           class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                           placeholder: "••••••••" %>
    </div>
    <div class="flex items-center">
      <%= check_box_tag 'user[make_admin]', '1', false, class: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" %>
      <%= label_tag 'user[make_admin]', "Grant admin privileges", class: "ml-2 text-sm text-gray-700" %>
    </div>
  <% end %>
  <div>
    <%= f.label :bio, "About", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= f.text_area :bio, 
                    rows: 4,
                    class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                    placeholder: "Brief description..." %>
  </div>
  <div>
    <%= f.label :locale, "Language", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= f.select :locale, 
                 locale_options,
                 {},
                 class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
  </div>
  <div>
    <%= f.label :timezone, "Time Zone", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= f.select :timezone, 
                 timezone_options,
                 {},
                 class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
  </div>
  <div>
    <%= f.label :admin_notes, "Admin Notes (Internal)", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= f.text_area :admin_notes, 
                    rows: 3,
                    class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                    placeholder: "Internal notes about this user..." %>
    <p class="mt-1 text-xs text-gray-500">These notes are only visible to admins</p>
  </div>
  <div class="flex items-center justify-between pt-4">
    <%= link_to "Cancel", @user.new_record? ? admin_users_path : admin_user_path(@user), 
                class: "text-gray-600 hover:text-gray-900 font-medium" %>
    <%= f.submit @user.new_record? ? "Create User" : "Update User", 
                 class: "bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium" %>
  </div>
<% end %>